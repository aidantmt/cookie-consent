!function(){"use strict";console.log("üç™ Cookie Consent System Initializing...");const e={bannerDelay:2e3,consentCookieName:"cookie_consent_preferences",consentCookieExpiry:365,privacyPolicyUrl:"/privacy-policy",defaults:{necessary:!0,functional:!1,analytics:!1,advertising:!1}};function t(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],t("consent","default",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",analytics_storage:"denied",functionality_storage:"granted",security_storage:"granted",wait_for_update:500}),console.log("‚úì Google Consent Mode V2 initialized (all denied by default)");const n={set:function(e,t,n){const o=n?"; expires="+new Date(Date.now()+864e5*n).toUTCString():"";document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(JSON.stringify(t))+o+"; path=/; SameSite=Lax; Secure"},get:function(e){const t=encodeURIComponent(e)+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))try{return JSON.parse(decodeURIComponent(o.substring(t.length,o.length)))}catch(e){return null}}return null},delete:function(e,t){(t?[t,"."+t]:[""]).forEach((t=>{document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain="+t}))}},o={blockedScripts:[],init:function(){this.interceptScripts(),console.log("‚úì Script blocker initialized")},interceptScripts:function(){const e=document.createElement,t=this;document.createElement=function(n){const o=e.call(document,n);if("script"===n.toLowerCase()){const e=o.setAttribute.bind(o);o.setAttribute=function(n,a){if("src"===n&&t.shouldBlock(a))return console.log("üö´ Blocked script:",a),void t.blockedScripts.push({src:a,element:o});e(n,a)}}return o}},shouldBlock:function(e){return!!e&&["google-analytics.com/analytics.js","googletagmanager.com/gtag/js","googletagmanager.com/gtm.js","googleadservices.com","googlesyndication.com","doubleclick.net","facebook.net/en_US/fbevents.js","connect.facebook.net","snap.licdn.com","px.ads.linkedin.com","js.hs-analytics.net","js.hs-banner.com"].some((t=>e.includes(t)))},unblockScripts:function(e){this.blockedScripts.filter((t=>"analytics"===e?t.src.includes("google-analytics")||t.src.includes("googletagmanager")||t.src.includes("hs-analytics"):"advertising"===e&&(t.src.includes("googleadservices")||t.src.includes("facebook")||t.src.includes("linkedin")||t.src.includes("doubleclick")))).forEach((e=>{console.log("‚úì Unblocking script:",e.src);const t=document.createElement("script");t.src=e.src,t.async=!0,document.head.appendChild(t)}))}},a={enableAnalytics:function(){if(console.log("‚úì Enabling Analytics tracking"),t("consent","update",{analytics_storage:"granted"}),void 0===window.gtag){const e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=YOUR-GA4-ID",document.head.appendChild(e)}dataLayer.push({event:"analytics_consent_granted",timestamp:(new Date).toISOString()}),o.unblockScripts("analytics")},disableAnalytics:function(){console.log("‚úó Disabling Analytics tracking"),t("consent","update",{analytics_storage:"denied"}),["_ga","_gid","_gat","_gat_UA-","_gat_gtag_"].forEach((e=>{n.delete(e),n.delete(e,window.location.hostname)})),dataLayer.push({event:"analytics_consent_denied",timestamp:(new Date).toISOString()})},enableAdvertising:function(){console.log("‚úì Enabling Advertising tracking"),t("consent","update",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"}),void 0===fbq&&(!function(e,t,n,o,a,i,s){e.fbq||(a=e.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},e._fbq||(e._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],(i=t.createElement(n)).async=!0,i.src=o,(s=t.getElementsByTagName(n)[0]).parentNode.insertBefore(i,s))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init","YOUR-FACEBOOK-PIXEL-ID"),fbq("track","PageView")),void 0===_linkedin_partner_id&&(window._linkedin_partner_id="YOUR-LINKEDIN-ID",window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(_linkedin_partner_id),function(e){if(!e){window.lintrk=function(e,t){window.lintrk.q.push([e,t])},window.lintrk.q=[];var t=document.getElementsByTagName("script")[0],n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.parentNode.insertBefore(n,t)}}(window.lintrk)),dataLayer.push({event:"advertising_consent_granted",timestamp:(new Date).toISOString()}),o.unblockScripts("advertising")},disableAdvertising:function(){console.log("‚úó Disabling Advertising tracking"),t("consent","update",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"}),["_fbp","_fbc","fr","_gcl_au","_gcl_aw","_gcl_gb","IDE","test_cookie","li_sugr","lidc","bcookie","__hssc","__hssrc","__hstc","hubspotutk"].forEach((e=>{n.delete(e),n.delete(e,window.location.hostname)})),dataLayer.push({event:"advertising_consent_denied",timestamp:(new Date).toISOString()})},enableFunctional:function(){console.log("‚úì Enabling Functional cookies"),t("consent","update",{functionality_storage:"granted"}),dataLayer.push({event:"functional_consent_granted",timestamp:(new Date).toISOString()})},disableFunctional:function(){console.log("‚úó Disabling Functional cookies"),dataLayer.push({event:"functional_consent_denied",timestamp:(new Date).toISOString()})}},i={currentConsent:null,init:function(){const t=n.get(e.consentCookieName);t?(this.currentConsent=t,this.applyConsent(t),console.log("‚úì Found existing consent:",t),setTimeout((()=>{document.getElementById("cookie-settings-trigger").classList.add("show")}),1e3)):setTimeout((()=>{this.showBanner()}),e.bannerDelay)},showBanner:function(){document.getElementById("cookie-consent-banner").classList.add("show"),dataLayer.push({event:"cookie_banner_shown"})},hideBanner:function(){document.getElementById("cookie-consent-banner").classList.remove("show")},showModal:function(){this.hideBanner(),document.getElementById("cookie-consent-modal").classList.add("show"),this.currentConsent&&(document.getElementById("toggle-functional").checked=this.currentConsent.functional,document.getElementById("toggle-analytics").checked=this.currentConsent.analytics,document.getElementById("toggle-advertising").checked=this.currentConsent.advertising,this.updateToggleStates()),dataLayer.push({event:"cookie_preferences_opened"})},hideModal:function(){document.getElementById("cookie-consent-modal").classList.remove("show")},acceptAll:function(){this.saveConsent({necessary:!0,functional:!0,analytics:!0,advertising:!0,timestamp:(new Date).toISOString()}),this.hideBanner(),this.hideModal(),console.log("‚úì User accepted all cookies")},rejectAll:function(){this.saveConsent({necessary:!0,functional:!1,analytics:!1,advertising:!1,timestamp:(new Date).toISOString()}),this.hideBanner(),this.hideModal(),console.log("‚úì User rejected non-essential cookies")},savePreferences:function(){this.saveConsent({necessary:!0,functional:document.getElementById("toggle-functional").checked,analytics:document.getElementById("toggle-analytics").checked,advertising:document.getElementById("toggle-advertising").checked,timestamp:(new Date).toISOString()}),this.hideModal(),console.log("‚úì User saved custom preferences:",this.currentConsent)},saveConsent:function(t){n.set(e.consentCookieName,t,e.consentCookieExpiry),this.currentConsent=t,this.applyConsent(t),setTimeout((()=>{document.getElementById("cookie-settings-trigger").classList.add("show")}),500),dataLayer.push({event:"cookie_consent_saved",consent_preferences:t})},applyConsent:function(e){e.functional?a.enableFunctional():a.disableFunctional(),e.analytics?a.enableAnalytics():a.disableAnalytics(),e.advertising?a.enableAdvertising():a.disableAdvertising()},updateToggleStates:function(){["functional","analytics","advertising"].forEach((e=>{const t=document.getElementById("toggle-"+e),n=t.closest(".toggle-switch"),o=t.closest(".category-header").querySelector(".category-status");t.checked?(n.classList.add("active"),o.textContent="Active",o.classList.add("active")):(n.classList.remove("active"),o.textContent="Inactive",o.classList.remove("active"))}))}};function s(){const t=`\n            <div id="cookie-consent-banner">\n                <div class="container">\n                    <div class="content">\n                        <h2>We value your privacy</h2>\n                        <p>We use cookies to enhance your browsing experience, serve personalised ads or content, and analyse our traffic. By clicking "Accept All", you consent to our use of cookies. <a href="${e.privacyPolicyUrl}" target="_blank" rel="noopener noreferrer">Read our Cookie Policy</a>.</p>\n                    </div>\n                    <div class="buttons">\n                        <button class="btn-customise" onclick="window.cookieConsent.showModal()" aria-label="Customize cookie preferences">\n                            Customise\n                        </button>\n                        <button class="btn-reject" onclick="window.cookieConsent.rejectAll()" aria-label="Reject all non-essential cookies">\n                            Reject All\n                        </button>\n                        <button class="btn-accept" onclick="window.cookieConsent.acceptAll()" aria-label="Accept all cookies">\n                            Accept All\n                        </button>\n                    </div>\n                </div>\n            </div>\n        `,n='\n            <div id="cookie-consent-modal">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <h2>Customise Consent Preferences</h2>\n                        <button class="close-btn" onclick="window.cookieConsent.hideModal()" aria-label="Close preferences dialog">√ó</button>\n                    </div>\n                    <div class="modal-body">\n                        <p class="description">\n                            We use cookies to help you navigate efficiently and perform certain functions. You will find detailed information about all cookies under each consent category below.\n                        </p>\n                        <p class="description">\n                            The cookies that are categorised as "Necessary" are stored on your browser as they are essential for enabling the basic functionalities of the site.\n                        </p>\n                        \n                        <div class="cookie-category">\n                            <div class="category-header" onclick="this.classList.toggle(\'expanded\'); this.nextElementSibling.classList.toggle(\'expanded\');">\n                                <h3>\n                                    <span class="chevron">‚Ä∫</span>\n                                    Necessary\n                                </h3>\n                                <div class="category-toggle">\n                                    <span class="category-status always">Always Active</span>\n                                    <label class="toggle-switch disabled">\n                                        <input type="checkbox" checked disabled>\n                                        <span class="slider"></span>\n                                    </label>\n                                </div>\n                            </div>\n                            <div class="category-body">\n                                <div class="category-description">\n                                    <p>Necessary cookies are required to enable the basic features of this site, such as providing secure log-in or adjusting your consent preferences. These cookies do not store any personally identifiable data.</p>\n                                    <strong>What we use them for:</strong>\n                                    <ul>\n                                        <li>Session management</li>\n                                        <li>Security & fraud prevention</li>\n                                        <li>Cookie consent preferences</li>\n                                        <li>Load balancing</li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                        \n                        <div class="cookie-category">\n                            <div class="category-header" onclick="this.classList.toggle(\'expanded\'); this.nextElementSibling.classList.toggle(\'expanded\');">\n                                <h3>\n                                    <span class="chevron">‚Ä∫</span>\n                                    Functional\n                                </h3>\n                                <div class="category-toggle">\n                                    <span class="category-status">Inactive</span>\n                                    <label class="toggle-switch" onclick="event.stopPropagation();">\n                                        <input type="checkbox" id="toggle-functional" onchange="window.cookieConsent.updateToggleStates()">\n                                        <span class="slider"></span>\n                                    </label>\n                                </div>\n                            </div>\n                            <div class="category-body">\n                                <div class="category-description">\n                                    <p>Functional cookies help perform certain functionalities like sharing the content of the website on social media platforms, collecting feedback, and other third-party features.</p>\n                                    <strong>What we use them for:</strong>\n                                    <ul>\n                                        <li>Social media sharing</li>\n                                        <li>Chat widget functionality</li>\n                                        <li>Video/content embeds (YouTube, Vimeo)</li>\n                                        <li>User preferences (language, region)</li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                        \n                        <div class="cookie-category">\n                            <div class="category-header" onclick="this.classList.toggle(\'expanded\'); this.nextElementSibling.classList.toggle(\'expanded\');">\n                                <h3>\n                                    <span class="chevron">‚Ä∫</span>\n                                    Analytics\n                                </h3>\n                                <div class="category-toggle">\n                                    <span class="category-status">Inactive</span>\n                                    <label class="toggle-switch" onclick="event.stopPropagation();">\n                                        <input type="checkbox" id="toggle-analytics" onchange="window.cookieConsent.updateToggleStates()">\n                                        <span class="slider"></span>\n                                    </label>\n                                </div>\n                            </div>\n                            <div class="category-body">\n                                <div class="category-description">\n                                    <p>Analytical cookies are used to understand how visitors interact with the website. These cookies help provide information on metrics such as the number of visitors, bounce rate, traffic source, etc.</p>\n                                    <strong>What we use them for:</strong>\n                                    <ul>\n                                        <li>Google Analytics 4 (website traffic analysis)</li>\n                                        <li>HubSpot Analytics (visitor tracking)</li>\n                                        <li>Page view tracking</li>\n                                        <li>User journey analysis</li>\n                                        <li>Performance monitoring</li>\n                                    </ul>\n                                    <strong>Data collected (anonymized):</strong>\n                                    <ul>\n                                        <li>Pages visited</li>\n                                        <li>Time on site</li>\n                                        <li>Device type</li>\n                                        <li>Geographic location (city-level)</li>\n                                        <li>Referral source</li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                        \n                        <div class="cookie-category">\n                            <div class="category-header" onclick="this.classList.toggle(\'expanded\'); this.nextElementSibling.classList.toggle(\'expanded\');">\n                                <h3>\n                                    <span class="chevron">‚Ä∫</span>\n                                    Advertising\n                                </h3>\n                                <div class="category-toggle">\n                                    <span class="category-status">Inactive</span>\n                                    <label class="toggle-switch" onclick="event.stopPropagation();">\n                                        <input type="checkbox" id="toggle-advertising" onchange="window.cookieConsent.updateToggleStates()">\n                                        <span class="slider"></span>\n                                    </label>\n                                </div>\n                            </div>\n                            <div class="category-body">\n                                <div class="category-description">\n                                    <p>Advertisement cookies are used to provide visitors with customised advertisements based on the pages you visited previously and to analyse the effectiveness of the ad campaigns.</p>\n                                    <strong>What we use them for:</strong>\n                                    <ul>\n                                        <li>Google Ads (remarketing & conversion tracking)</li>\n                                        <li>Facebook Pixel (audience targeting)</li>\n                                        <li>LinkedIn Insight Tag (B2B advertising)</li>\n                                        <li>Personalised ad delivery</li>\n                                        <li>Ad performance measurement</li>\n                                        <li>Retargeting campaigns</li>\n                                    </ul>\n                                    <strong>Third parties we share with:</strong>\n                                    <ul>\n                                        <li>Google (Ads, DoubleClick)</li>\n                                        <li>Facebook/Meta</li>\n                                        <li>LinkedIn</li>\n                                        <li>HubSpot (marketing automation)</li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="modal-footer">\n                        <button class="btn-reject-modal" onclick="window.cookieConsent.rejectAll()">\n                            Reject All\n                        </button>\n                        <button class="btn-accept-modal" onclick="window.cookieConsent.acceptAll()">\n                            Accept All\n                        </button>\n                        <button class="btn-save" onclick="window.cookieConsent.savePreferences()">\n                            Save My Preferences\n                        </button>\n                    </div>\n                </div>\n            </div>\n        ';document.body.insertAdjacentHTML("beforeend",t),document.body.insertAdjacentHTML("beforeend",n),document.body.insertAdjacentHTML("beforeend",'\n            <button id="cookie-settings-trigger" onclick="window.cookieConsent.showModal()" aria-label="Manage cookie settings">\n                üç™ Cookie Settings\n            </button>\n        '),console.log("‚úì Cookie consent UI initialized")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){o.init(),s(),i.init()})):(o.init(),s(),i.init()),window.cookieConsent=i,console.log("‚úì Cookie Consent System Ready")}();
